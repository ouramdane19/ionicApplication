<ion-header>
  <ion-navbar color="dark">
    <ion-title>places</ion-title>
    <button start="" ion-button="" menuToggle="">
        <ion-icon name="menu"></ion-icon>
      </button>
    <ion-buttons end="">
      <button ion-button="" icon-only="" (click)="onNewPlace()"  >
        <ion-icon ios="ios-add-circle" md="md-add-circle"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content padding>
    <ion-list  *ngFor= "let p of places"  >
        <ion-item-sliding  #item >
           <ion-item (dblclick)="onPlaceDetails(p)" >
          <!-- <ion-avatar item-start >
              <img *ngIf="!p.photos==[]" [src]="p.photos[0]" alt="Photo d'une place" > 
          </ion-avatar> -->
          <ion-thumbnail item-start >
              <img  *ngIf="!p.photos==[]" [src]="p.photos[0]" alt="Photo d'une place" > 
          </ion-thumbnail>
            <h2>{{p.title}}</h2>
            <p> {{p.city}} {{p.country}} </p>
            <h3>{{p.timeStamp|date:'dd/MM/yyyy-HH:mm'}}</h3>
          </ion-item>
          <ion-item-options side="left">
              <button item-end ion-button color="danger" expandable (click)="deletPlace(p)">
                  <ion-icon name="trash"></ion-icon>
                  Delete
              </button> 
          </ion-item-options>
          <ion-item-options side="right">
              <button item-end ion-button color="dark" expandable (click)="onPlaceDetails(p)">
                  <ion-icon name="information-circle"></ion-icon>
               details
              </button>
            <button item-end ion-button color="secondary" expandable (click)="editPlace(p)">
                  <ion-icon name="create"></ion-icon>
                 edit
                </button> 
                <button item-end ion-button color="primary" expandable (click)="sharePlace(p)">
                    <ion-icon name="mail-open"></ion-icon>
                    Mail
                  </button> 
            </ion-item-options>
        </ion-item-sliding> 
    </ion-list>
      <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
          <ion-infinite-scroll-content></ion-infinite-scroll-content>
        </ion-infinite-scroll>
</ion-content>



